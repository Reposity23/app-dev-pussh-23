{"file_contents":{"QUICK_REFERENCE.md":{"content":"lorem ipsum dolor bat ba di ako\n","size_bytes":32},"devtools_options.yaml":{"content":"description: This file stores settings for Dart & Flutter DevTools.\ndocumentation: https://docs.flutter.dev/tools/devtools/extensions#configure-extension-enablement-states\nextensions:\n","size_bytes":184},"SYSTEM_ARCHITECTURE.md":{"content":"# Smart Toy Store System - Architecture Documentation\n\n## System Overview\n\nThe Smart Toy Store System is a distributed real-time application designed to manage and track toy orders across multiple platforms. The system operates entirely on a local area network (LAN) using a WiFi hotspot.\n\n## Architecture Diagram\n\n```\n                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                    â”‚         WiFi Hotspot (db)           â”‚\n                    â”‚      10.40.190.0/24 Network         â”‚\n                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                                    â”‚\n        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n        â”‚                           â”‚                           â”‚\n        â–¼                           â–¼                           â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Flutter App  â”‚          â”‚ Dart Shelf     â”‚         â”‚  Arduino ESP    â”‚\nâ”‚  (Mobile)     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Backend       â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  (IoT Device)   â”‚\nâ”‚               â”‚          â”‚                â”‚         â”‚                 â”‚\nâ”‚  - Auth UI    â”‚   HTTP   â”‚ - REST API     â”‚  HTTP   â”‚ - RFID Reader   â”‚\nâ”‚  - Orders     â”‚   JWT    â”‚ - WebSocket    â”‚  POST   â”‚ - LED Control   â”‚\nâ”‚  - Real-time  â”‚   WS     â”‚ - Database     â”‚         â”‚ - WiFi Client   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n        â”‚                           â”‚\n        â”‚                           â”‚\n        â”‚                    WebSocket\n        â”‚                           â”‚\n        â”‚                           â–¼\n        â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  HTML Dashboard â”‚\n                           â”‚  (Web Browser)  â”‚\n                           â”‚                 â”‚\n                           â”‚ - Live Monitor  â”‚\n                           â”‚ - Statistics    â”‚\n                           â”‚ - Real-time UI  â”‚\n                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Component Details\n\n### 1. Network Layer\n\n**WiFi Hotspot Configuration:**\n- SSID: `db`\n- Password: `123456789`\n- Network: `10.40.190.0/24`\n- Gateway: `10.40.190.130`\n\n**Protocol Stack:**\n- Application: HTTP/HTTPS, WebSocket\n- Transport: TCP\n- Network: IPv4\n- Data Link: WiFi 802.11 (2.4 GHz)\n\n### 2. Backend Server (Dart Shelf)\n\n**Host:** 10.40.190.130:8080\n\n**Components:**\n\n```\nbackend/\nâ”œâ”€â”€ bin/\nâ”‚   â””â”€â”€ server.dart          # Main server entry point\nâ”œâ”€â”€ lib/\nâ”‚   â”œâ”€â”€ models.dart          # Data models (User, Order)\nâ”‚   â”œâ”€â”€ database.dart        # File-based storage\nâ”‚   â””â”€â”€ auth.dart            # JWT authentication\nâ””â”€â”€ data/\n    â”œâ”€â”€ users.json           # User storage\n    â””â”€â”€ orders.json          # Order storage\n```\n\n**Key Features:**\n- RESTful API endpoints\n- WebSocket server for pub/sub\n- JWT token generation/validation\n- CORS middleware\n- Request logging\n- Broadcast mechanism for real-time updates\n\n**API Endpoints:**\n\n| Method | Endpoint       | Description                | Auth Required |\n|--------|---------------|----------------------------|---------------|\n| POST   | /login        | User authentication        | No            |\n| POST   | /signup       | User registration          | No            |\n| GET    | /orders       | Get all orders             | Yes           |\n| POST   | /orders       | Create new order           | Yes           |\n| POST   | /updateStatus | Update order status        | No            |\n| GET    | /ws           | WebSocket connection       | No            |\n\n**Data Flow:**\n\n```\nClient Request\n      â†“\nCORS Middleware\n      â†“\nLogging Middleware\n      â†“\nRouter\n      â†“\nHandler Function\n      â†“\nDatabase Operation\n      â†“\nWebSocket Broadcast\n      â†“\nResponse\n```\n\n### 3. Flutter Mobile App\n\n**Platform:** Android (Embedding v2)\n\n**Architecture Pattern:** Provider (State Management)\n\n**Layers:**\n\n```\nPresentation Layer (UI)\n    â”œâ”€â”€ Screens (login, signup, home)\n    â”œâ”€â”€ Widgets (order_card)\n    â””â”€â”€ Theme (Material Design 3)\n          â†“\nBusiness Logic Layer\n    â””â”€â”€ Providers (app_provider)\n          â†“\nService Layer\n    â”œâ”€â”€ auth_service (JWT)\n    â”œâ”€â”€ websocket_service (Real-time)\n    â””â”€â”€ order_service (API)\n          â†“\nData Layer\n    â”œâ”€â”€ Models (user, toy, order)\n    â””â”€â”€ Local Storage (Hive)\n```\n\n**Key Features:**\n- Reactive UI with Provider\n- Persistent authentication with SharedPreferences\n- Offline-first with Hive caching\n- Real-time updates via WebSocket\n- JWT token management\n- Auto-reconnect on disconnect\n\n**State Management Flow:**\n\n```\nUser Action\n    â†“\nProvider Method Call\n    â†“\nService Layer Operation\n    â†“\nHTTP/WebSocket Request\n    â†“\nUpdate Local State\n    â†“\nnotifyListeners()\n    â†“\nUI Rebuild\n```\n\n### 4. Arduino ESP8266/ESP32\n\n**Hardware:**\n- ESP8266 or ESP32 microcontroller\n- 3 LEDs (Red, Green, Blue)\n- RFID reader (simulated via Serial)\n\n**Firmware Architecture:**\n\n```\nMain Loop\n    â”œâ”€â”€ WiFi Connection Management\n    â”‚   â””â”€â”€ Auto-reconnect on disconnect\n    â”œâ”€â”€ Serial Input Processing\n    â”‚   â””â”€â”€ RFID UID parsing\n    â”œâ”€â”€ Status Update Timer\n    â”‚   â””â”€â”€ 10-second intervals\n    â””â”€â”€ LED Control\n        â””â”€â”€ Blinking animations\n```\n\n**State Machine:**\n\n```\nIDLE\n  â”‚ (RFID Scan)\n  â†“\nPROCESSING (Blink LED)\n  â”‚ (10 seconds)\n  â†“\nON_THE_WAY (Blink LED)\n  â”‚ (10 seconds)\n  â†“\nDELIVERED (Solid LED)\n  â”‚ (10 seconds)\n  â†“\nIDLE (LED Off)\n```\n\n**Network Communication:**\n\n```cpp\nWiFiClient â†’ HTTPClient â†’ POST Request â†’ Backend Server\n```\n\n### 5. HTML/JavaScript Dashboard\n\n**Technology Stack:**\n- Pure HTML5\n- Vanilla JavaScript\n- WebSocket API\n- CSS3 with animations\n\n**Architecture:**\n\n```\nindex.html\n    â”œâ”€â”€ Structure (HTML)\n    â”œâ”€â”€ Styling (CSS)\n    â”‚   â”œâ”€â”€ Responsive grid\n    â”‚   â”œâ”€â”€ Card layouts\n    â”‚   â””â”€â”€ Animations\n    â””â”€â”€ Logic (JavaScript)\n        â”œâ”€â”€ WebSocket client\n        â”œâ”€â”€ Data management\n        â””â”€â”€ DOM manipulation\n```\n\n**Real-time Update Flow:**\n\n```\nWebSocket Message Received\n        â†“\nParse JSON Data\n        â†“\nUpdate orders array\n        â†“\nrenderOrders()\n        â†“\nUpdate DOM\n        â†“\nupdateStats()\n```\n\n## Data Models\n\n### User Model\n\n```json\n{\n  \"id\": \"uuid\",\n  \"username\": \"string\",\n  \"email\": \"string\",\n  \"password_hash\": \"string\",\n  \"department\": \"string\",\n  \"created_at\": \"ISO 8601\"\n}\n```\n\n### Order Model\n\n```json\n{\n  \"id\": \"uuid\",\n  \"toy_id\": \"uuid\",\n  \"toy_name\": \"string\",\n  \"category\": \"string\",\n  \"rfid_uid\": \"string\",\n  \"assigned_person\": \"string\",\n  \"status\": \"PENDING|PROCESSING|ON_THE_WAY|DELIVERED\",\n  \"created_at\": \"ISO 8601\",\n  \"updated_at\": \"ISO 8601\",\n  \"department\": \"string\",\n  \"total_amount\": \"number\"\n}\n```\n\n## Communication Protocols\n\n### HTTP REST API\n\n**Request Format:**\n```http\nPOST /orders HTTP/1.1\nHost: 10.40.190.130:8080\nContent-Type: application/json\nAuthorization: Bearer <jwt_token>\n\n{\n  \"toy_id\": \"...\",\n  \"toy_name\": \"...\",\n  ...\n}\n```\n\n**Response Format:**\n```http\nHTTP/1.1 201 Created\nContent-Type: application/json\n\n{\n  \"id\": \"...\",\n  \"status\": \"PENDING\",\n  ...\n}\n```\n\n### WebSocket Protocol\n\n**Connection:**\n```javascript\nws://10.40.190.130:8080/ws\n```\n\n**Message Format:**\n```json\n{\n  \"id\": \"order-uuid\",\n  \"status\": \"PROCESSING\",\n  \"updated_at\": \"2024-01-01T12:00:00Z\",\n  ...\n}\n```\n\n### Arduino HTTP POST\n\n**Update Status Request:**\n```http\nPOST /updateStatus HTTP/1.1\nHost: 10.40.190.130:8080\nContent-Type: application/json\n\n{\n  \"rfid_uid\": \"A12B3C\",\n  \"category\": \"Toy Guns\",\n  \"status\": \"PROCESSING\"\n}\n```\n\n## Security Architecture\n\n### Authentication Flow\n\n```\n1. User enters credentials\n        â†“\n2. POST /login\n        â†“\n3. Backend verifies password hash\n        â†“\n4. Generate JWT token\n        â†“\n5. Return token to client\n        â†“\n6. Client stores token (SharedPreferences)\n        â†“\n7. Subsequent requests include token in Authorization header\n        â†“\n8. Backend verifies token on each request\n```\n\n### JWT Token Structure\n\n```\nHeader:\n{\n  \"alg\": \"HS256\",\n  \"typ\": \"JWT\"\n}\n\nPayload:\n{\n  \"user_id\": \"uuid\",\n  \"username\": \"string\",\n  \"department\": \"string\",\n  \"iat\": timestamp,\n  \"exp\": timestamp\n}\n\nSignature:\nHMACSHA256(\n  base64UrlEncode(header) + \".\" + base64UrlEncode(payload),\n  secret_key\n)\n```\n\n### Security Measures\n\n1. **Password Hashing:** SHA-256\n2. **Token Expiration:** 7 days\n3. **CORS:** Restricted to local network\n4. **HTTPS:** Recommended for production\n5. **Input Validation:** Server-side validation\n\n## Scalability Considerations\n\n### Current Limitations\n\n- Single server instance\n- File-based storage (not suitable for high concurrency)\n- No load balancing\n- Limited to LAN\n\n### Scaling Strategies\n\n**Horizontal Scaling:**\n```\nLoad Balancer\n    â”œâ”€â”€ Backend Server 1\n    â”œâ”€â”€ Backend Server 2\n    â””â”€â”€ Backend Server 3\n         â†“\n    Central Database\n```\n\n**Database Migration:**\n- Replace JSON files with PostgreSQL or MongoDB\n- Implement connection pooling\n- Add database replication\n\n**WebSocket Scaling:**\n- Use Redis Pub/Sub for message distribution\n- Implement WebSocket sticky sessions\n- Add message queue (RabbitMQ, Kafka)\n\n## Performance Metrics\n\n### Expected Response Times\n\n| Operation          | Expected Time | Notes                    |\n|-------------------|---------------|--------------------------|\n| Login             | < 200ms       | Including token gen      |\n| Get Orders        | < 100ms       | Cached in memory         |\n| Create Order      | < 150ms       | With WebSocket broadcast |\n| Update Status     | < 100ms       | Arduino to backend       |\n| WebSocket Message | < 50ms        | Broadcast to all clients |\n\n### Capacity Estimates\n\n- Concurrent Users: 50-100\n- Orders per minute: 100-200\n- WebSocket Connections: 50\n- Storage: 1000s of orders in JSON\n\n## Monitoring and Logging\n\n### Backend Logs\n\n```\n[2024-01-01 12:00:00] INFO: Server started on 10.40.190.130:8080\n[2024-01-01 12:00:05] INFO: WebSocket client connected (total: 3)\n[2024-01-01 12:00:10] POST /updateStatus 200 45ms\n[2024-01-01 12:00:10] INFO: Broadcasted to 3 clients\n```\n\n### Flutter Logs\n\n```dart\nprint('WebSocket connected');\nprint('Order received: ${order.id}');\nprint('Login error: $error');\n```\n\n### Arduino Logs\n\n```\nWiFi Connected!\nRFID Scan Detected\nSending update to backend...\nHTTP Response Code: 200\nStatus update successful!\n```\n\n## Deployment Architecture\n\n### Development Environment\n\n```\nDeveloper Machine (10.40.190.130)\n    â”œâ”€â”€ Backend Server (Dart)\n    â”œâ”€â”€ Flutter Development\n    â””â”€â”€ Arduino IDE\n\nMobile Device (10.40.190.X)\n    â””â”€â”€ Flutter App (Debug Mode)\n\nESP8266 (10.40.190.Y)\n    â””â”€â”€ Arduino Firmware\n\nBrowser (Any Device)\n    â””â”€â”€ Dashboard\n```\n\n### Production Considerations\n\n1. **Server Deployment:**\n   - Use systemd service for auto-start\n   - Implement graceful shutdown\n   - Add health check endpoints\n\n2. **App Distribution:**\n   - Build release APK\n   - Sign with release keystore\n   - Distribute via internal channels\n\n3. **Hardware:**\n   - Use proper power supply for ESP\n   - Add physical RFID reader\n   - Install in secure location\n\n## Disaster Recovery\n\n### Backup Strategy\n\n```\nAutomated Daily Backup\n    â”œâ”€â”€ backend/data/users.json\n    â”œâ”€â”€ backend/data/orders.json\n    â””â”€â”€ Configuration files\n         â†“\n    Cloud Storage / External Drive\n```\n\n### Recovery Procedures\n\n1. **Backend Failure:** Restart server, restore from backup\n2. **Network Failure:** Auto-reconnect mechanisms\n3. **Data Corruption:** Restore from last good backup\n4. **Hardware Failure:** Replace device, restore configuration\n\n## Future Enhancements\n\n1. **Microservices Architecture**\n2. **Cloud Deployment (AWS, GCP, Azure)**\n3. **Mobile App for iOS**\n4. **Advanced Analytics Dashboard**\n5. **Push Notifications**\n6. **QR Code Integration**\n7. **Multi-language Support**\n8. **Role-based Access Control**\n\n## Conclusion\n\nThe Smart Toy Store System demonstrates a modern, real-time architecture suitable for local network operations. The system is designed with clear separation of concerns, making it maintainable and extensible for future enhancements.\n","size_bytes":12959},"linux/runner/main.cc":{"content":"#include \"my_application.h\"\n\nint main(int argc, char** argv) {\n  g_autoptr(MyApplication) app = my_application_new();\n  return g_application_run(G_APPLICATION(app), argc, argv);\n}\n","size_bytes":180},"macos/Flutter/GeneratedPluginRegistrant.swift":{"content":"//\n//  Generated file. Do not edit.\n//\n\nimport FlutterMacOS\nimport Foundation\n\nimport audioplayers_darwin\nimport file_selector_macos\nimport path_provider_foundation\nimport shared_preferences_foundation\n\nfunc RegisterGeneratedPlugins(registry: FlutterPluginRegistry) {\n  AudioplayersDarwinPlugin.register(with: registry.registrar(forPlugin: \"AudioplayersDarwinPlugin\"))\n  FileSelectorPlugin.register(with: registry.registrar(forPlugin: \"FileSelectorPlugin\"))\n  PathProviderPlugin.register(with: registry.registrar(forPlugin: \"PathProviderPlugin\"))\n  SharedPreferencesPlugin.register(with: registry.registrar(forPlugin: \"SharedPreferencesPlugin\"))\n}\n","size_bytes":648},"windows/flutter/generated_plugin_registrant.cc":{"content":"//\n//  Generated file. Do not edit.\n//\n\n// clang-format off\n\n#include \"generated_plugin_registrant.h\"\n\n#include <audioplayers_windows/audioplayers_windows_plugin.h>\n#include <file_selector_windows/file_selector_windows.h>\n\nvoid RegisterPlugins(flutter::PluginRegistry* registry) {\n  AudioplayersWindowsPluginRegisterWithRegistrar(\n      registry->GetRegistrarForPlugin(\"AudioplayersWindowsPlugin\"));\n  FileSelectorWindowsRegisterWithRegistrar(\n      registry->GetRegistrarForPlugin(\"FileSelectorWindows\"));\n}\n","size_bytes":509},"SETUP_GUIDE.md":{"content":"\n","size_bytes":1},"replit.md":{"content":"# Smart Toy Store System - Replit Configuration\n\n## Overview\nThe Smart Toy Store is a full-stack, real-time order processing and factory management system designed for a toy factory. This project was originally designed to run on a local network with a dedicated WiFi hotspot, but has been adapted to run on Replit.\n\n### Project Components\n1. **Flutter Mobile App** - Customer-facing mobile application (in `lib/` directory)\n2. **Dart Backend Server** - Central API and WebSocket server (in `backend/` directory)\n3. **HTML5 Dashboard** - Real-time factory floor interface (in `dashboard/` directory)\n4. **Arduino Integration** - Physical RFID scanner and LED system (in `arduino/` directory, for reference only)\n\n## Architecture\n- **Backend Server**: Dart-based server using Shelf framework\n  - Port: 5000 (configured for Replit)\n  - Serves REST API endpoints\n  - Provides WebSocket for real-time updates\n  - Serves static dashboard files\n  - Persistent JSON database for users and orders\n\n- **Dashboard**: HTML5/JavaScript web interface\n  - Real-time order monitoring\n  - Audio alerts for new orders\n  - Order status tracking\n  - Clear history functionality\n\n## Recent Changes\n\n### 2025-11-02 - Replit Environment Setup\n- Installed Dart 3.8 SDK\n- Configured backend server to run on port 5000 (changed from 8080)\n- Set up workflow to run backend server automatically\n- Configured autoscale deployment for production\n- Dashboard successfully serves on root path (/)\n\n## User Preferences\nNo specific user preferences documented yet.\n\n## Project Structure\n```\n.\nâ”œâ”€â”€ android/           # Android platform files\nâ”œâ”€â”€ arduino/           # Arduino/ESP8266 RFID scanner code (reference only)\nâ”œâ”€â”€ assets/            # Images and sound files for mobile app\nâ”œâ”€â”€ backend/           # Dart backend server\nâ”‚   â”œâ”€â”€ bin/\nâ”‚   â”‚   â””â”€â”€ server.dart  # Main server file\nâ”‚   â”œâ”€â”€ lib/\nâ”‚   â”‚   â”œâ”€â”€ auth.dart\nâ”‚   â”‚   â”œâ”€â”€ database.dart\nâ”‚   â”‚   â””â”€â”€ models.dart\nâ”‚   â”œâ”€â”€ data/          # JSON database files\nâ”‚   â””â”€â”€ pubspec.yaml\nâ”œâ”€â”€ dashboard/         # HTML5 real-time dashboard\nâ”‚   â”œâ”€â”€ index.html\nâ”‚   â””â”€â”€ sounds/        # Audio notifications\nâ”œâ”€â”€ ios/               # iOS platform files\nâ”œâ”€â”€ lib/               # Flutter mobile app source\nâ”œâ”€â”€ web/               # Flutter web build files\nâ””â”€â”€ pubspec.yaml       # Flutter dependencies\n```\n\n## Development Notes\n\n### Running Locally on Replit\nThe backend server automatically starts via the configured workflow:\n- Command: `cd backend && dart run bin/server.dart`\n- Access dashboard at the Replit webview URL\n\n### Original Local Network Setup (for reference)\nThe system was originally designed to run on:\n- WiFi SSID: `db`\n- Password: `123456789`\n- Static IP: `192.168.137.1:8080`\n- All devices (mobile app, dashboard, Arduino) connected to this network\n\n### Database\n- Uses JSON files for persistent storage\n- Located in `backend/data/`\n- Files: `users.json`, `orders.json`\n\n### API Endpoints\n- POST `/api/login` - User authentication\n- POST `/api/signup` - User registration\n- POST `/api/orders` - Create new order\n- GET `/api/orders` - Get all orders\n- POST `/api/orders/clear` - Clear order history\n- POST `/api/process-next` - Process next order for a worker\n- GET `/ws` - WebSocket connection for real-time updates\n\n### Order Workflow\n1. Customer places order via mobile app\n2. Backend assigns order to factory worker based on toy category\n3. Dashboard displays order in real-time with audio alert\n4. Worker scans RFID tag (via Arduino or API)\n5. Order progresses: PENDING â†’ PROCESSING â†’ ON_THE_WAY â†’ DELIVERED â†’ COMPLETED\n\n### Worker Assignments (Hardcoded by Category)\n- Dolls: Marl\n- Puzzles: Renz\n- Action Figures: Cruz\n- Toy Guns: John Marwin (Ebona)\n\n## Deployment\nConfigured for Replit Autoscale deployment:\n- Runs `dart run backend/bin/server.dart`\n- Automatically serves on port 5000\n- Stateless deployment with persistent JSON database\n\n## Known Issues\nNone currently documented.\n","size_bytes":4065},"ios/RunnerTests/RunnerTests.swift":{"content":"import Flutter\nimport UIKit\nimport XCTest\n\nclass RunnerTests: XCTestCase {\n\n  func testExample() {\n    // If you add code to the Runner application, consider adding tests here.\n    // See https://developer.apple.com/documentation/xctest for more information about using XCTest.\n  }\n\n}\n","size_bytes":285},"windows/runner/flutter_window.cpp":{"content":"#include \"flutter_window.h\"\n\n#include <optional>\n\n#include \"flutter/generated_plugin_registrant.h\"\n\nFlutterWindow::FlutterWindow(const flutter::DartProject& project)\n    : project_(project) {}\n\nFlutterWindow::~FlutterWindow() {}\n\nbool FlutterWindow::OnCreate() {\n  if (!Win32Window::OnCreate()) {\n    return false;\n  }\n\n  RECT frame = GetClientArea();\n\n  // The size here must match the window dimensions to avoid unnecessary surface\n  // creation / destruction in the startup path.\n  flutter_controller_ = std::make_unique<flutter::FlutterViewController>(\n      frame.right - frame.left, frame.bottom - frame.top, project_);\n  // Ensure that basic setup of the controller was successful.\n  if (!flutter_controller_->engine() || !flutter_controller_->view()) {\n    return false;\n  }\n  RegisterPlugins(flutter_controller_->engine());\n  SetChildContent(flutter_controller_->view()->GetNativeWindow());\n\n  flutter_controller_->engine()->SetNextFrameCallback([&]() {\n    this->Show();\n  });\n\n  // Flutter can complete the first frame before the \"show window\" callback is\n  // registered. The following call ensures a frame is pending to ensure the\n  // window is shown. It is a no-op if the first frame hasn't completed yet.\n  flutter_controller_->ForceRedraw();\n\n  return true;\n}\n\nvoid FlutterWindow::OnDestroy() {\n  if (flutter_controller_) {\n    flutter_controller_ = nullptr;\n  }\n\n  Win32Window::OnDestroy();\n}\n\nLRESULT\nFlutterWindow::MessageHandler(HWND hwnd, UINT const message,\n                              WPARAM const wparam,\n                              LPARAM const lparam) noexcept {\n  // Give Flutter, including plugins, an opportunity to handle window messages.\n  if (flutter_controller_) {\n    std::optional<LRESULT> result =\n        flutter_controller_->HandleTopLevelWindowProc(hwnd, message, wparam,\n                                                      lparam);\n    if (result) {\n      return *result;\n    }\n  }\n\n  switch (message) {\n    case WM_FONTCHANGE:\n      flutter_controller_->engine()->ReloadSystemFonts();\n      break;\n  }\n\n  return Win32Window::MessageHandler(hwnd, message, wparam, lparam);\n}\n","size_bytes":2122},"windows/runner/utils.cpp":{"content":"#include \"utils.h\"\n\n#include <flutter_windows.h>\n#include <io.h>\n#include <stdio.h>\n#include <windows.h>\n\n#include <iostream>\n\nvoid CreateAndAttachConsole() {\n  if (::AllocConsole()) {\n    FILE *unused;\n    if (freopen_s(&unused, \"CONOUT$\", \"w\", stdout)) {\n      _dup2(_fileno(stdout), 1);\n    }\n    if (freopen_s(&unused, \"CONOUT$\", \"w\", stderr)) {\n      _dup2(_fileno(stdout), 2);\n    }\n    std::ios::sync_with_stdio();\n    FlutterDesktopResyncOutputStreams();\n  }\n}\n\nstd::vector<std::string> GetCommandLineArguments() {\n  // Convert the UTF-16 command line arguments to UTF-8 for the Engine to use.\n  int argc;\n  wchar_t** argv = ::CommandLineToArgvW(::GetCommandLineW(), &argc);\n  if (argv == nullptr) {\n    return std::vector<std::string>();\n  }\n\n  std::vector<std::string> command_line_arguments;\n\n  // Skip the first argument as it's the binary name.\n  for (int i = 1; i < argc; i++) {\n    command_line_arguments.push_back(Utf8FromUtf16(argv[i]));\n  }\n\n  ::LocalFree(argv);\n\n  return command_line_arguments;\n}\n\nstd::string Utf8FromUtf16(const wchar_t* utf16_string) {\n  if (utf16_string == nullptr) {\n    return std::string();\n  }\n  unsigned int target_length = ::WideCharToMultiByte(\n      CP_UTF8, WC_ERR_INVALID_CHARS, utf16_string,\n      -1, nullptr, 0, nullptr, nullptr)\n    -1; // remove the trailing null character\n  int input_length = (int)wcslen(utf16_string);\n  std::string utf8_string;\n  if (target_length == 0 || target_length > utf8_string.max_size()) {\n    return utf8_string;\n  }\n  utf8_string.resize(target_length);\n  int converted_length = ::WideCharToMultiByte(\n      CP_UTF8, WC_ERR_INVALID_CHARS, utf16_string,\n      input_length, utf8_string.data(), target_length, nullptr, nullptr);\n  if (converted_length == 0) {\n    return std::string();\n  }\n  return utf8_string;\n}\n","size_bytes":1797},"ios/Runner/AppDelegate.swift":{"content":"import Flutter\nimport UIKit\n\n@main\n@objc class AppDelegate: FlutterAppDelegate {\n  override func application(\n    _ application: UIApplication,\n    didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?\n  ) -> Bool {\n    GeneratedPluginRegistrant.register(with: self)\n    return super.application(application, didFinishLaunchingWithOptions: launchOptions)\n  }\n}\n","size_bytes":391},"pubspec.yaml":{"content":"name: app_dev_2\ndescription: \"A new Flutter project.\"\npublish_to: 'none'\nversion: 1.0.0+1\n\nenvironment:\n  sdk: '>=3.4.3 <4.0.0'\n\ndependencies:\n  flutter:\n    sdk: flutter\n  cupertino_icons: ^1.0.6\n  provider: ^6.0.0\n  hive: ^2.2.3\n  hive_flutter: ^1.1.0\n  http: ^1.1.0\n  shared_preferences: ^2.0.15\n  jwt_decoder: ^2.0.1\n  web_socket_channel: ^2.4.0\n  intl: ^0.19.0\n  timezone: ^0.9.2\n  flutter_rating_bar: ^4.0.1\n  flutter_paypal_checkout: ^1.0.0\n  shimmer: ^3.0.0\n  image_picker: ^1.0.4\n  audioplayers: ^6.0.0\n\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n  flutter_lints: ^3.0.0\n  hive_generator: ^2.0.0\n  build_runner: ^2.3.3\n\nflutter:\n  uses-material-design: true\n\n  assets:\n    - assets/images/\n    - assets/images/toy_placeholder.png\n    - assets/sounds/\n","size_bytes":769},"macos/RunnerTests/RunnerTests.swift":{"content":"import Cocoa\nimport FlutterMacOS\nimport XCTest\n\nclass RunnerTests: XCTestCase {\n\n  func testExample() {\n    // If you add code to the Runner application, consider adding tests here.\n    // See https://developer.apple.com/documentation/xctest for more information about using XCTest.\n  }\n\n}\n","size_bytes":290},"ios/Runner/Assets.xcassets/LaunchImage.imageset/README.md":{"content":"# Launch Screen Assets\n\nYou can customize the launch screen with your own desired assets by replacing the image files in this directory.\n\nYou can also do it by opening your Flutter project's Xcode project with `open ios/Runner.xcworkspace`, selecting `Runner/Assets.xcassets` in the Project Navigator and dropping in the desired images.","size_bytes":336},"README.md":{"content":"# Smart Toy Store - Full System Documentation\n\n# ğŸ“˜ Project Paper: The Smart Toy Store System\n\n\n\n## 1. Title Page\n\n**Project Title:**\nThe Smart Toy Store: A Real-Time, Full-Stack Order Processing and Factory Management System\n\n\n## 2. Introduction\n\nThe Smart Toy Store project is a comprehensive, full-stack application designed to modernize and streamline the order fulfillment process within a toy factory. The core idea is to create a seamless, real-time link between a customer placing an order on a mobile app and the factory worker physically preparing that order for shipment. \n\nThis project addresses the inefficiencies and potential for error inherent in manual order tracking systems. By creating a digital ecosystem where orders are instantly communicated, visually signaled, and updated via physical interaction (RFID scanning), the system aims to significantly improve operational speed, accuracy, and overall factory floor visibility.\n\n\n\n## 3. Background of the Study\n\nThe inspiration for this project stems from observing common challenges in small to medium-sized manufacturing environments, particularly in response to modern e-commerce demands. As customers increasingly place orders through mobile applications, factories face the need for a robust internal system to handle this influx of digital orders. Without such a system, factories often rely on printed-out order slips, verbal communication, or manual data entry, all of which are prone to delays, miscommunication, and human error.\n\nThis study is important because it directly tackles these issues by building a self-contained, LAN-based solution that is both powerful and cost-effective. Related studies in industrial IoT (Internet of Things) and real-time systems often focus on large-scale enterprise solutions. This project, however, demonstrates that the core principles of IoTâ€”interconnected devices, real-time data synchronization, and physical-to-digital workflowsâ€”can be implemented using accessible technologies like Flutter, Dart, and Arduino. It proves the necessity of a tailored, digital workflow management system to bridge the gap between a customer's click and a worker's action on the factory floor.\n\n\n## 4. Project Objectives\n\n### General Objective\n\nTo design, develop, and deploy a full-stack, real-time order processing and management system that seamlessly integrates a customer-facing mobile application with a physical factory floor workflow.\n\n### Specific Objectives\n\n*   **To develop a cross-platform mobile application** using Flutter that allows customers to browse a toy catalog, register an account, and place orders.\n*   **To build a centralized backend server** using Dart that manages all business logic, handles API requests, and maintains a persistent database for users and orders.\n*   **To create a real-time web dashboard** that displays live order data, provides audio alerts for new orders, and allows for the clearing of order history.\n*   **To integrate an Arduino-powered physical interface** that uses LEDs to signal new tasks to factory workers and an RFID scanner to allow workers to update order statuses.\n*   **To establish a robust, local network architecture** where all components (phone app, backend server, dashboard, Arduino) can communicate reliably over a dedicated WiFi hotspot.\n*   **To implement a hardcoded worker assignment system** that automatically designates a specific factory worker to an order based on the toy's category, streamlining accountability.\n\n---\n\n## 5. Significance of the Study\n\nThis project provides significant value by creating a tangible, working model for a modern, small-scale factory management system. Its contributions are felt across multiple levels:\n\n*   **For Factory Workers:** The system provides clear, unambiguous visual (LED) and audio cues for new tasks, reducing cognitive load and the potential for error. The RFID-based workflow allows them to update their progress with a simple, intuitive physical action.\n\n*   **For Factory Management:** The real-time dashboard offers unprecedented visibility into the factory floor's workload. Managers can instantly see how many orders are pending, in progress, and completed, allowing for better resource allocation and performance tracking. The `Clear History` function provides a simple way to manage the day's workload.\n\n*   **For Customers:** The system provides a direct line from their order to the factory, leading to faster processing times and fewer errors in fulfillment. The mobile app offers a modern, professional-grade user experience.\n\n*   **For the Institution and Future Students:** This project serves as a comprehensive, practical case study in full-stack development and the Internet of Things. It demonstrates how disparate technologies (mobile, web, backend, and embedded systems) can be integrated into a single, cohesive product. It provides a valuable blueprint for future projects in automation, logistics, and real-time systems.\n\n\n\n<img width=\"1006\" height=\"626\" alt=\"image\" src=\"https://github.com/user-attachments/assets/c2631c47-20a7-4bfc-85c0-a950944eb441\" />\n\n#  Toy Store System\nMEMBERS:\nJANNALYN CRUZ <br>\nJOHN MARWIN EBONA<br>\nPRINCE MARL LIZANDRELLE MIRASOL<br>\nRENZ CHRISTIANE MING\n\nnote to self:\ngit add .\ngit commit -m \"fix cors and server connection\"\ngit branch -M main\ngit remote remove origin\ngit remote add origin https://github.com/Reposity23/APP-DEV---FINAL-REPO.git\ngit push -u origin main\n\n\n    netstat -ano | findstr :8080\n    \n    taskkill /PID 26680 /F\n    - kill task\n## 1. System Architecture\n\nThe system is a full-stack, real-time order processing and tracking application designed for a toy factory. It consists of four main components:\n\n1.  **Flutter Mobile App:** The customer-facing storefront. Users can browse a catalog of toys, register for an account, and place orders. It communicates with the backend server over the local network.\n\n2.  **Dart Backend Server:** The central hub of the entire system. It runs on a laptop and is responsible for:\n    *   Handling API requests (login, signup, order creation).\n    *   Maintaining a persistent JSON database for users and orders.\n    *   Serving the HTML dashboard to web clients.\n    *   Broadcasting real-time updates to all connected clients (Dashboard and Arduino) via WebSockets.\n\n3.  **HTML5 Dashboard:** The factory floor interface. It provides a real-time overview of all orders, including their status and assigned worker. It plays audio alerts for new orders.\n\n4.  **Arduino (ESP8266):** The physical interface for the factory floor. It connects to the WiFi network, receives order updates, and controls LEDs to signal new tasks. Workers use an RFID scanner connected to it to update the status of an order.\n\n### System Flow Diagram\n\n```\n+-----------------+      +--------------------+      +-----------------+\n|USER'S Phone App |----->|  Laptop Backend    |<---->|  HTML Dashboard |\n| (Flutter)       |      |  (Dart Server)     |      |  (Web Browser)  |\n+-----------------+      | - API (HTTP)       |      +-----------------+\n                         | - Real-time (WS)   |\n                         | - Database (JSON)  |\n                         +--------+-----------+\n                                  ^\n                                  |\n                       +----------+---------+\n                       |  Arduino (ESP8266) |\n                       | - Lights (LEDs)    |\n                       | - Scanner (RFID)   |\n                       +--------------------+\n```\n\n---\n\n## 2. Core Features\n\n*   **Mobile-First Ordering:** A user-friendly mobile app for customers to browse and buy toys.\n*   **Real-Time Dashboard:** A live dashboard for factory managers to monitor all incoming orders.\n*   **Physical Task Signaling:** An Arduino-powered system with LEDs to provide clear, physical signals to factory workers.\n*   **RFID-Based Workflow:** Workers use an RFID scanner to update an order's status through the stages: `PROCESSING` -> `ON_THE_WAY` -> `DELIVERED`.\n*   **Persistent Storage:** Orders are saved to the server's disk and will survive a server restart.\n*   **Audio Alerts:** The dashboard plays a unique sound for each toy category when a new order arrives, alerting the relevant worker.\n*   **Hardcoded Worker Assignments:** Each order is automatically assigned to a specific factory worker based on the toy category.\n*   **Role-Specific UI:** The mobile app is for customers; the dashboard is for factory staff.\n\n---\n\n## 3. Setup and Operation Guide\n\nFollow these steps to run the entire system.\n\n### Step 1: Network Configuration\n\n1.  **Create a WiFi Hotspot** on your laptop with the following settings:\n    *   **SSID:** `db`\n    *   **Password:** `123456789`\n2.  **Assign a Static IP Address** to your laptop's hotspot adapter.\n    *   The IP address **must** be `192.168.137.1`.\n    *   The Subnet Mask should be `255.255.255.0`.\n\n### Step 2: Backend Server Setup\n\n1.  Open a terminal and navigate to the `backend` directory:\n    ```sh\n    cd C:\\Users\\johnt\\OneDrive\\Desktop\\app_dev_2\\backend\n    ```\n2.  Install all required dependencies:\n    ```sh\n    dart pub get\n    ```\n3.  Run the server:\n    ```sh\n    dart run bin/server.dart\n    ```\n4.  The server should now be running. You will see the message: `Server running on http://0.0.0.0:8080`.\n\n> **Troubleshooting:** If you see an `address already in use` error, it means an old server process is stuck. Open the Task Manager, find any `dart.exe` processes, and end them.\n\n### Step 3: Flutter App Setup (for JM's Phone)\n\n1.  **Prepare Assets:** Ensure the directory `assets/images/` exists in the root of the project. Place your toy images here (e.g., `toy_gun_1.png`).\n2.  **Install & Run:** Build and install the app on an Android phone connected to your laptop's hotspot (`db`).\n3.  **Functionality:**\n    *   Users can sign up without providing a department.\n    *   Users can browse the toy store, search for products, and place orders.\n\n### Step 4: Arduino Setup\n\n1.  Open the `arduino/smart_toy_rfid.ino` sketch in the Arduino IDE.\n2.  **Verify Configuration:** Ensure the `serverIP` is set to `192.168.137.1`.\n3.  **Upload the Sketch** to your ESP8266 device.\n4.  **LED Color Logic:**\n    *   `Dolls`: Green\n    *   `Puzzles`: Red\n    *   `Action Figures`: Yellow (Red + Green LEDs)\n    *   `Toy Guns`: Blue\n\n### Step 5: Dashboard Access\n\n1.  On any device connected to the hotspot (including your laptop or another phone), open a web browser.\n2.  Navigate to the server's URL:\n    ```\n    http://192.168.137.1:8080\n    ```\n3.  **Click the \"Enable Sound & Enter\" button.** This is a mandatory one-time step to comply with browser security policies.\n4.  The dashboard will load, display all persistent orders, and play sounds for new ones.\n\n---\n\n## 4. System Workflow\n\n1.  **Order Placement:** A customer on the Flutter app buys a \"Laser Ray Gun\".\n2.  **Backend Processing:** The app sends the order to the backend. The backend assigns **John Marwin** to the order and saves it to `orders.json`.\n3.  **Real-Time Notifications:** The backend sends a WebSocket message to all clients.\n4.  **Dashboard Update:** The HTML dashboard receives the message, adds the \"Laser Ray Gun\" order to the table, and plays an mp3 for example: `lorem.mp3` sound.\n5.  **Arduino Action:** The Arduino is now aware an order for a \"Toy Gun\" exists.\n6.  **Factory Work:** a user  gets the toy. the person who was assign to the order scans the RFID tag for example (`TG01_UID`) on the Arduino scanner.\n7.  **Arduino Update:** The Arduino's **Blue LED turns on**. The Arduino sends a `POST` request to `/api/updateStatus` with the new status `PROCESSING`.\n8.  **Backend Update:** The backend updates the order in the database.\n9.  **Live Sync:** The backend broadcasts the status change. The dashboard and Flutter app update to show the order is now `PROCESSING`.\n10. **Completion:** This process repeats for `ON_THE_WAY` and `DELIVERED`. After the final scan, the Arduino's Blue LED turns off.\n\n","size_bytes":12005},"android/app/src/main/kotlin/com/example/app_dev_2/MainActivity.kt":{"content":"package com.example.app_dev_2\n\nimport io.flutter.embedding.android.FlutterActivity\n\nclass MainActivity : FlutterActivity()\n","size_bytes":123},"linux/runner/my_application.cc":{"content":"#include \"my_application.h\"\n\n#include <flutter_linux/flutter_linux.h>\n#ifdef GDK_WINDOWING_X11\n#include <gdk/gdkx.h>\n#endif\n\n#include \"flutter/generated_plugin_registrant.h\"\n\nstruct _MyApplication {\n  GtkApplication parent_instance;\n  char** dart_entrypoint_arguments;\n};\n\nG_DEFINE_TYPE(MyApplication, my_application, GTK_TYPE_APPLICATION)\n\n// Called when first Flutter frame received.\nstatic void first_frame_cb(MyApplication* self, FlView *view)\n{\n  gtk_widget_show(gtk_widget_get_toplevel(GTK_WIDGET(view)));\n}\n\n// Implements GApplication::activate.\nstatic void my_application_activate(GApplication* application) {\n  MyApplication* self = MY_APPLICATION(application);\n  GtkWindow* window =\n      GTK_WINDOW(gtk_application_window_new(GTK_APPLICATION(application)));\n\n  // Use a header bar when running in GNOME as this is the common style used\n  // by applications and is the setup most users will be using (e.g. Ubuntu\n  // desktop).\n  // If running on X and not using GNOME then just use a traditional title bar\n  // in case the window manager does more exotic layout, e.g. tiling.\n  // If running on Wayland assume the header bar will work (may need changing\n  // if future cases occur).\n  gboolean use_header_bar = TRUE;\n#ifdef GDK_WINDOWING_X11\n  GdkScreen* screen = gtk_window_get_screen(window);\n  if (GDK_IS_X11_SCREEN(screen)) {\n    const gchar* wm_name = gdk_x11_screen_get_window_manager_name(screen);\n    if (g_strcmp0(wm_name, \"GNOME Shell\") != 0) {\n      use_header_bar = FALSE;\n    }\n  }\n#endif\n  if (use_header_bar) {\n    GtkHeaderBar* header_bar = GTK_HEADER_BAR(gtk_header_bar_new());\n    gtk_widget_show(GTK_WIDGET(header_bar));\n    gtk_header_bar_set_title(header_bar, \"app_dev_2\");\n    gtk_header_bar_set_show_close_button(header_bar, TRUE);\n    gtk_window_set_titlebar(window, GTK_WIDGET(header_bar));\n  } else {\n    gtk_window_set_title(window, \"app_dev_2\");\n  }\n\n  gtk_window_set_default_size(window, 1280, 720);\n\n  g_autoptr(FlDartProject) project = fl_dart_project_new();\n  fl_dart_project_set_dart_entrypoint_arguments(project, self->dart_entrypoint_arguments);\n\n  FlView* view = fl_view_new(project);\n  GdkRGBA background_color;\n  // Background defaults to black, override it here if necessary, e.g. #00000000 for transparent.\n  gdk_rgba_parse(&background_color, \"#000000\");\n  fl_view_set_background_color(view, &background_color);\n  gtk_widget_show(GTK_WIDGET(view));\n  gtk_container_add(GTK_CONTAINER(window), GTK_WIDGET(view));\n\n  // Show the window when Flutter renders.\n  // Requires the view to be realized so we can start rendering.\n  g_signal_connect_swapped(view, \"first-frame\", G_CALLBACK(first_frame_cb), self);\n  gtk_widget_realize(GTK_WIDGET(view));\n\n  fl_register_plugins(FL_PLUGIN_REGISTRY(view));\n\n  gtk_widget_grab_focus(GTK_WIDGET(view));\n}\n\n// Implements GApplication::local_command_line.\nstatic gboolean my_application_local_command_line(GApplication* application, gchar*** arguments, int* exit_status) {\n  MyApplication* self = MY_APPLICATION(application);\n  // Strip out the first argument as it is the binary name.\n  self->dart_entrypoint_arguments = g_strdupv(*arguments + 1);\n\n  g_autoptr(GError) error = nullptr;\n  if (!g_application_register(application, nullptr, &error)) {\n     g_warning(\"Failed to register: %s\", error->message);\n     *exit_status = 1;\n     return TRUE;\n  }\n\n  g_application_activate(application);\n  *exit_status = 0;\n\n  return TRUE;\n}\n\n// Implements GApplication::startup.\nstatic void my_application_startup(GApplication* application) {\n  //MyApplication* self = MY_APPLICATION(object);\n\n  // Perform any actions required at application startup.\n\n  G_APPLICATION_CLASS(my_application_parent_class)->startup(application);\n}\n\n// Implements GApplication::shutdown.\nstatic void my_application_shutdown(GApplication* application) {\n  //MyApplication* self = MY_APPLICATION(object);\n\n  // Perform any actions required at application shutdown.\n\n  G_APPLICATION_CLASS(my_application_parent_class)->shutdown(application);\n}\n\n// Implements GObject::dispose.\nstatic void my_application_dispose(GObject* object) {\n  MyApplication* self = MY_APPLICATION(object);\n  g_clear_pointer(&self->dart_entrypoint_arguments, g_strfreev);\n  G_OBJECT_CLASS(my_application_parent_class)->dispose(object);\n}\n\nstatic void my_application_class_init(MyApplicationClass* klass) {\n  G_APPLICATION_CLASS(klass)->activate = my_application_activate;\n  G_APPLICATION_CLASS(klass)->local_command_line = my_application_local_command_line;\n  G_APPLICATION_CLASS(klass)->startup = my_application_startup;\n  G_APPLICATION_CLASS(klass)->shutdown = my_application_shutdown;\n  G_OBJECT_CLASS(klass)->dispose = my_application_dispose;\n}\n\nstatic void my_application_init(MyApplication* self) {}\n\nMyApplication* my_application_new() {\n  // Set the program name to the application ID, which helps various systems\n  // like GTK and desktop environments map this running application to its\n  // corresponding .desktop file. This ensures better integration by allowing\n  // the application to be recognized beyond its binary name.\n  g_set_prgname(APPLICATION_ID);\n\n  return MY_APPLICATION(g_object_new(my_application_get_type(),\n                                     \"application-id\", APPLICATION_ID,\n                                     \"flags\", G_APPLICATION_NON_UNIQUE,\n                                     nullptr));\n}\n","size_bytes":5350},"windows/runner/win32_window.cpp":{"content":"#include \"win32_window.h\"\n\n#include <dwmapi.h>\n#include <flutter_windows.h>\n\n#include \"resource.h\"\n\nnamespace {\n\n/// Window attribute that enables dark mode window decorations.\n///\n/// Redefined in case the developer's machine has a Windows SDK older than\n/// version 10.0.22000.0.\n/// See: https://docs.microsoft.com/windows/win32/api/dwmapi/ne-dwmapi-dwmwindowattribute\n#ifndef DWMWA_USE_IMMERSIVE_DARK_MODE\n#define DWMWA_USE_IMMERSIVE_DARK_MODE 20\n#endif\n\nconstexpr const wchar_t kWindowClassName[] = L\"FLUTTER_RUNNER_WIN32_WINDOW\";\n\n/// Registry key for app theme preference.\n///\n/// A value of 0 indicates apps should use dark mode. A non-zero or missing\n/// value indicates apps should use light mode.\nconstexpr const wchar_t kGetPreferredBrightnessRegKey[] =\n  L\"Software\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Themes\\\\Personalize\";\nconstexpr const wchar_t kGetPreferredBrightnessRegValue[] = L\"AppsUseLightTheme\";\n\n// The number of Win32Window objects that currently exist.\nstatic int g_active_window_count = 0;\n\nusing EnableNonClientDpiScaling = BOOL __stdcall(HWND hwnd);\n\n// Scale helper to convert logical scaler values to physical using passed in\n// scale factor\nint Scale(int source, double scale_factor) {\n  return static_cast<int>(source * scale_factor);\n}\n\n// Dynamically loads the |EnableNonClientDpiScaling| from the User32 module.\n// This API is only needed for PerMonitor V1 awareness mode.\nvoid EnableFullDpiSupportIfAvailable(HWND hwnd) {\n  HMODULE user32_module = LoadLibraryA(\"User32.dll\");\n  if (!user32_module) {\n    return;\n  }\n  auto enable_non_client_dpi_scaling =\n      reinterpret_cast<EnableNonClientDpiScaling*>(\n          GetProcAddress(user32_module, \"EnableNonClientDpiScaling\"));\n  if (enable_non_client_dpi_scaling != nullptr) {\n    enable_non_client_dpi_scaling(hwnd);\n  }\n  FreeLibrary(user32_module);\n}\n\n}  // namespace\n\n// Manages the Win32Window's window class registration.\nclass WindowClassRegistrar {\n public:\n  ~WindowClassRegistrar() = default;\n\n  // Returns the singleton registrar instance.\n  static WindowClassRegistrar* GetInstance() {\n    if (!instance_) {\n      instance_ = new WindowClassRegistrar();\n    }\n    return instance_;\n  }\n\n  // Returns the name of the window class, registering the class if it hasn't\n  // previously been registered.\n  const wchar_t* GetWindowClass();\n\n  // Unregisters the window class. Should only be called if there are no\n  // instances of the window.\n  void UnregisterWindowClass();\n\n private:\n  WindowClassRegistrar() = default;\n\n  static WindowClassRegistrar* instance_;\n\n  bool class_registered_ = false;\n};\n\nWindowClassRegistrar* WindowClassRegistrar::instance_ = nullptr;\n\nconst wchar_t* WindowClassRegistrar::GetWindowClass() {\n  if (!class_registered_) {\n    WNDCLASS window_class{};\n    window_class.hCursor = LoadCursor(nullptr, IDC_ARROW);\n    window_class.lpszClassName = kWindowClassName;\n    window_class.style = CS_HREDRAW | CS_VREDRAW;\n    window_class.cbClsExtra = 0;\n    window_class.cbWndExtra = 0;\n    window_class.hInstance = GetModuleHandle(nullptr);\n    window_class.hIcon =\n        LoadIcon(window_class.hInstance, MAKEINTRESOURCE(IDI_APP_ICON));\n    window_class.hbrBackground = 0;\n    window_class.lpszMenuName = nullptr;\n    window_class.lpfnWndProc = Win32Window::WndProc;\n    RegisterClass(&window_class);\n    class_registered_ = true;\n  }\n  return kWindowClassName;\n}\n\nvoid WindowClassRegistrar::UnregisterWindowClass() {\n  UnregisterClass(kWindowClassName, nullptr);\n  class_registered_ = false;\n}\n\nWin32Window::Win32Window() {\n  ++g_active_window_count;\n}\n\nWin32Window::~Win32Window() {\n  --g_active_window_count;\n  Destroy();\n}\n\nbool Win32Window::Create(const std::wstring& title,\n                         const Point& origin,\n                         const Size& size) {\n  Destroy();\n\n  const wchar_t* window_class =\n      WindowClassRegistrar::GetInstance()->GetWindowClass();\n\n  const POINT target_point = {static_cast<LONG>(origin.x),\n                              static_cast<LONG>(origin.y)};\n  HMONITOR monitor = MonitorFromPoint(target_point, MONITOR_DEFAULTTONEAREST);\n  UINT dpi = FlutterDesktopGetDpiForMonitor(monitor);\n  double scale_factor = dpi / 96.0;\n\n  HWND window = CreateWindow(\n      window_class, title.c_str(), WS_OVERLAPPEDWINDOW,\n      Scale(origin.x, scale_factor), Scale(origin.y, scale_factor),\n      Scale(size.width, scale_factor), Scale(size.height, scale_factor),\n      nullptr, nullptr, GetModuleHandle(nullptr), this);\n\n  if (!window) {\n    return false;\n  }\n\n  UpdateTheme(window);\n\n  return OnCreate();\n}\n\nbool Win32Window::Show() {\n  return ShowWindow(window_handle_, SW_SHOWNORMAL);\n}\n\n// static\nLRESULT CALLBACK Win32Window::WndProc(HWND const window,\n                                      UINT const message,\n                                      WPARAM const wparam,\n                                      LPARAM const lparam) noexcept {\n  if (message == WM_NCCREATE) {\n    auto window_struct = reinterpret_cast<CREATESTRUCT*>(lparam);\n    SetWindowLongPtr(window, GWLP_USERDATA,\n                     reinterpret_cast<LONG_PTR>(window_struct->lpCreateParams));\n\n    auto that = static_cast<Win32Window*>(window_struct->lpCreateParams);\n    EnableFullDpiSupportIfAvailable(window);\n    that->window_handle_ = window;\n  } else if (Win32Window* that = GetThisFromHandle(window)) {\n    return that->MessageHandler(window, message, wparam, lparam);\n  }\n\n  return DefWindowProc(window, message, wparam, lparam);\n}\n\nLRESULT\nWin32Window::MessageHandler(HWND hwnd,\n                            UINT const message,\n                            WPARAM const wparam,\n                            LPARAM const lparam) noexcept {\n  switch (message) {\n    case WM_DESTROY:\n      window_handle_ = nullptr;\n      Destroy();\n      if (quit_on_close_) {\n        PostQuitMessage(0);\n      }\n      return 0;\n\n    case WM_DPICHANGED: {\n      auto newRectSize = reinterpret_cast<RECT*>(lparam);\n      LONG newWidth = newRectSize->right - newRectSize->left;\n      LONG newHeight = newRectSize->bottom - newRectSize->top;\n\n      SetWindowPos(hwnd, nullptr, newRectSize->left, newRectSize->top, newWidth,\n                   newHeight, SWP_NOZORDER | SWP_NOACTIVATE);\n\n      return 0;\n    }\n    case WM_SIZE: {\n      RECT rect = GetClientArea();\n      if (child_content_ != nullptr) {\n        // Size and position the child window.\n        MoveWindow(child_content_, rect.left, rect.top, rect.right - rect.left,\n                   rect.bottom - rect.top, TRUE);\n      }\n      return 0;\n    }\n\n    case WM_ACTIVATE:\n      if (child_content_ != nullptr) {\n        SetFocus(child_content_);\n      }\n      return 0;\n\n    case WM_DWMCOLORIZATIONCOLORCHANGED:\n      UpdateTheme(hwnd);\n      return 0;\n  }\n\n  return DefWindowProc(window_handle_, message, wparam, lparam);\n}\n\nvoid Win32Window::Destroy() {\n  OnDestroy();\n\n  if (window_handle_) {\n    DestroyWindow(window_handle_);\n    window_handle_ = nullptr;\n  }\n  if (g_active_window_count == 0) {\n    WindowClassRegistrar::GetInstance()->UnregisterWindowClass();\n  }\n}\n\nWin32Window* Win32Window::GetThisFromHandle(HWND const window) noexcept {\n  return reinterpret_cast<Win32Window*>(\n      GetWindowLongPtr(window, GWLP_USERDATA));\n}\n\nvoid Win32Window::SetChildContent(HWND content) {\n  child_content_ = content;\n  SetParent(content, window_handle_);\n  RECT frame = GetClientArea();\n\n  MoveWindow(content, frame.left, frame.top, frame.right - frame.left,\n             frame.bottom - frame.top, true);\n\n  SetFocus(child_content_);\n}\n\nRECT Win32Window::GetClientArea() {\n  RECT frame;\n  GetClientRect(window_handle_, &frame);\n  return frame;\n}\n\nHWND Win32Window::GetHandle() {\n  return window_handle_;\n}\n\nvoid Win32Window::SetQuitOnClose(bool quit_on_close) {\n  quit_on_close_ = quit_on_close;\n}\n\nbool Win32Window::OnCreate() {\n  // No-op; provided for subclasses.\n  return true;\n}\n\nvoid Win32Window::OnDestroy() {\n  // No-op; provided for subclasses.\n}\n\nvoid Win32Window::UpdateTheme(HWND const window) {\n  DWORD light_mode;\n  DWORD light_mode_size = sizeof(light_mode);\n  LSTATUS result = RegGetValue(HKEY_CURRENT_USER, kGetPreferredBrightnessRegKey,\n                               kGetPreferredBrightnessRegValue,\n                               RRF_RT_REG_DWORD, nullptr, &light_mode,\n                               &light_mode_size);\n\n  if (result == ERROR_SUCCESS) {\n    BOOL enable_dark_mode = light_mode == 0;\n    DwmSetWindowAttribute(window, DWMWA_USE_IMMERSIVE_DARK_MODE,\n                          &enable_dark_mode, sizeof(enable_dark_mode));\n  }\n}\n","size_bytes":8534},"linux/flutter/generated_plugin_registrant.cc":{"content":"//\n//  Generated file. Do not edit.\n//\n\n// clang-format off\n\n#include \"generated_plugin_registrant.h\"\n\n#include <audioplayers_linux/audioplayers_linux_plugin.h>\n#include <file_selector_linux/file_selector_plugin.h>\n\nvoid fl_register_plugins(FlPluginRegistry* registry) {\n  g_autoptr(FlPluginRegistrar) audioplayers_linux_registrar =\n      fl_plugin_registry_get_registrar_for_plugin(registry, \"AudioplayersLinuxPlugin\");\n  audioplayers_linux_plugin_register_with_registrar(audioplayers_linux_registrar);\n  g_autoptr(FlPluginRegistrar) file_selector_linux_registrar =\n      fl_plugin_registry_get_registrar_for_plugin(registry, \"FileSelectorPlugin\");\n  file_selector_plugin_register_with_registrar(file_selector_linux_registrar);\n}\n","size_bytes":731},"backend/start_server.sh":{"content":"#!/bin/bash\n\necho \"==================================\"\necho \"Smart Toy Store Backend Server\"\necho \"==================================\"\necho \"\"\n\necho \"Checking Dart installation...\"\nif ! command -v dart &> /dev/null\nthen\n    echo \"Error: Dart is not installed!\"\n    echo \"Please install Dart SDK from https://dart.dev/get-dart\"\n    exit 1\nfi\n\necho \"Dart version: $(dart --version)\"\necho \"\"\n\necho \"Installing dependencies...\"\ndart pub get\n\necho \"\"\necho \"Starting server...\"\necho \"Server will be available at:\"\necho \"  HTTP API: http://10.40.190.130:8080\"\necho \"  WebSocket: ws://10.40.190.130:8080/ws\"\necho \"\"\necho \"Press Ctrl+C to stop the server\"\necho \"\"\n\ndart run bin/server.dart\n","size_bytes":681},"windows/runner/main.cpp":{"content":"#include <flutter/dart_project.h>\n#include <flutter/flutter_view_controller.h>\n#include <windows.h>\n\n#include \"flutter_window.h\"\n#include \"utils.h\"\n\nint APIENTRY wWinMain(_In_ HINSTANCE instance, _In_opt_ HINSTANCE prev,\n                      _In_ wchar_t *command_line, _In_ int show_command) {\n  // Attach to console when present (e.g., 'flutter run') or create a\n  // new console when running with a debugger.\n  if (!::AttachConsole(ATTACH_PARENT_PROCESS) && ::IsDebuggerPresent()) {\n    CreateAndAttachConsole();\n  }\n\n  // Initialize COM, so that it is available for use in the library and/or\n  // plugins.\n  ::CoInitializeEx(nullptr, COINIT_APARTMENTTHREADED);\n\n  flutter::DartProject project(L\"data\");\n\n  std::vector<std::string> command_line_arguments =\n      GetCommandLineArguments();\n\n  project.set_dart_entrypoint_arguments(std::move(command_line_arguments));\n\n  FlutterWindow window(project);\n  Win32Window::Point origin(10, 10);\n  Win32Window::Size size(1280, 720);\n  if (!window.Create(L\"app_dev_2\", origin, size)) {\n    return EXIT_FAILURE;\n  }\n  window.SetQuitOnClose(true);\n\n  ::MSG msg;\n  while (::GetMessage(&msg, nullptr, 0, 0)) {\n    ::TranslateMessage(&msg);\n    ::DispatchMessage(&msg);\n  }\n\n  ::CoUninitialize();\n  return EXIT_SUCCESS;\n}\n","size_bytes":1262},"PROJECT_SUMMARY.md":{"content":"summary goes here\n","size_bytes":18},"macos/Runner/AppDelegate.swift":{"content":"import Cocoa\nimport FlutterMacOS\n\n@main\nclass AppDelegate: FlutterAppDelegate {\n  override func applicationShouldTerminateAfterLastWindowClosed(_ sender: NSApplication) -> Bool {\n    return true\n  }\n\n  override func applicationSupportsSecureRestorableState(_ app: NSApplication) -> Bool {\n    return true\n  }\n}\n","size_bytes":311},"macos/Runner/MainFlutterWindow.swift":{"content":"import Cocoa\nimport FlutterMacOS\n\nclass MainFlutterWindow: NSWindow {\n  override func awakeFromNib() {\n    let flutterViewController = FlutterViewController()\n    let windowFrame = self.frame\n    self.contentViewController = flutterViewController\n    self.setFrame(windowFrame, display: true)\n\n    RegisterGeneratedPlugins(registry: flutterViewController)\n\n    super.awakeFromNib()\n  }\n}\n","size_bytes":388},"backend/pubspec.yaml":{"content":"name: smart_toy_store_backend\ndescription: Backend server for Smart Toy Store System\nversion: 1.0.0\npublish_to: 'none'\n\nenvironment:\n  sdk: '>=3.0.0 <4.0.0'\n\ndependencies:\n  shelf: ^1.4.2\n  shelf_router: ^1.1.4\n  shelf_static: ^1.1.2  # <-- ADDED MISSING DEPENDENCY\n  shelf_web_socket: ^3.0.0\n  web_socket_channel: ^3.0.3\n  hive: ^2.2.3\n  dart_jsonwebtoken: ^3.3.1\n  crypto: ^3.0.6\n  uuid: ^4.5.1\n","size_bytes":397},"analysis_options.yaml":{"content":"include: package:flutter_lints/flutter.yaml\n\nlinter:\n  rules:\n    prefer_const_constructors: false\n    prefer_const_literals_to_create_immutables: false\n    avoid_print: false\n","size_bytes":176},"dashboard/css/em_dash.css":{"content":"* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    min-height: 100vh;\n    padding: 20px;\n}\n\n.container {\n    max-width: 1400px;\n    margin: 0 auto;\n}\n\n.header {\n    background: white;\n    padding: 24px;\n    border-radius: 12px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    margin-bottom: 24px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.header h1 {\n    font-size: 28px;\n    color: #333;\n    display: flex;\n    align-items: center;\n    gap: 12px;\n}\n\n.header-controls {\n    display: flex;\n    gap: 16px;\n    align-items: center;\n}\n\n.employee-name {\n    font-size: 18px;\n    font-weight: 600;\n    color: #667eea;\n    padding: 8px 16px;\n    background: #f0f0ff;\n    border-radius: 20px;\n}\n\n.connection-status {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    padding: 8px 16px;\n    border-radius: 20px;\n    font-size: 14px;\n    font-weight: 600;\n}\n\n.connection-status.connected {\n    background: #10b981;\n    color: white;\n}\n\n.connection-status.disconnected {\n    background: #ef4444;\n    color: white;\n}\n\n.status-indicator {\n    width: 10px;\n    height: 10px;\n    border-radius: 50%;\n    background: white;\n    animation: pulse 2s infinite;\n}\n\n@keyframes pulse {\n    0%, 100% { opacity: 1; }\n    50% { opacity: 0.5; }\n}\n\n.stats {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n    gap: 16px;\n    margin-bottom: 24px;\n}\n\n.stat-card {\n    background: white;\n    padding: 20px;\n    border-radius: 12px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.stat-card h3 {\n    font-size: 14px;\n    color: #666;\n    margin-bottom: 8px;\n}\n\n.stat-card .value {\n    font-size: 32px;\n    font-weight: bold;\n    color: #333;\n}\n\n.content-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));\n    gap: 24px;\n    margin-bottom: 24px;\n}\n\n.content-section {\n    background: white;\n    padding: 24px;\n    border-radius: 12px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.content-section h2 {\n    font-size: 20px;\n    color: #333;\n    margin-bottom: 20px;\n}\n\n.table-wrapper {\n    overflow-x: auto;\n}\n\ntable {\n    width: 100%;\n    border-collapse: collapse;\n}\n\nthead {\n    background: #f8f9fa;\n}\n\nth, td {\n    padding: 12px;\n    text-align: left;\n    border-bottom: 1px solid #e9ecef;\n}\n\nth {\n    font-weight: 600;\n    color: #555;\n    border-bottom-width: 2px;\n}\n\ntbody tr:hover {\n    background: #f8f9fa;\n}\n\n.status-badge {\n    display: inline-block;\n    padding: 4px 12px;\n    border-radius: 20px;\n    font-size: 12px;\n    font-weight: 600;\n    text-transform: uppercase;\n}\n\n.status-pending {\n    background: #fef3c7;\n    color: #92400e;\n}\n\n.status-cancel {\n    background: #fee2e2;\n    color: #991b1b;\n}\n\n.status-delivered {\n    background: #d1fae5;\n    color: #065f46;\n}\n\n.status-returned {\n    background: #fecaca;\n    color: #7f1d1d;\n}\n\n.status-on-the-way {\n    background: #e9d5ff;\n    color: #6b21a8;\n}\n\n.empty-state {\n    text-align: center;\n    padding: 60px 20px;\n    color: #999;\n}\n\n.employee-selector {\n    background: white;\n    padding: 20px 24px;\n    border-radius: 12px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    display: flex;\n    align-items: center;\n    gap: 12px;\n}\n\n.employee-selector label {\n    font-weight: 600;\n    color: #333;\n}\n\n.employee-selector select {\n    padding: 8px 16px;\n    border: 2px solid #e9ecef;\n    border-radius: 8px;\n    font-size: 16px;\n    cursor: pointer;\n    background: white;\n    min-width: 200px;\n}\n\n.employee-selector select:focus {\n    outline: none;\n    border-color: #667eea;\n}\n","size_bytes":3717},"dashboard/js/em_dash.js":{"content":"const API_BASE_URL = window.location.origin + '/api';\nconst WS_URL = window.location.origin.replace('http', 'ws') + '/ws';\n\nlet socket = null;\nlet orders = [];\nlet currentEmployee = 'John Marwin';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const employeeSelect = document.getElementById('employeeSelect');\n    \n    const savedEmployee = localStorage.getItem('currentEmployee');\n    if (savedEmployee) {\n        currentEmployee = savedEmployee;\n        employeeSelect.value = currentEmployee;\n    }\n    \n    employeeSelect.addEventListener('change', (e) => {\n        currentEmployee = e.target.value;\n        localStorage.setItem('currentEmployee', currentEmployee);\n        updateDashboard();\n    });\n    \n    initializeDashboard();\n});\n\nfunction initializeDashboard() {\n    fetchOrders();\n    connectWebSocket();\n}\n\nasync function fetchOrders() {\n    try {\n        const response = await fetch(`${API_BASE_URL}/orders`);\n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        orders = await response.json();\n        updateDashboard();\n    } catch (error) {\n        console.error('Failed to fetch orders:', error);\n        orders = [];\n        updateDashboard();\n    }\n}\n\nfunction connectWebSocket() {\n    try {\n        socket = new WebSocket(WS_URL);\n        \n        socket.onopen = () => {\n            console.log('WebSocket connected');\n            updateConnectionStatus(true);\n        };\n        \n        socket.onmessage = (event) => {\n            if (!event.data) return;\n            \n            try {\n                const message = JSON.parse(event.data);\n                \n                if (message.type === 'clear') {\n                    orders = [];\n                    updateDashboard();\n                    return;\n                }\n                \n                updateOrAddOrder(message);\n                updateDashboard();\n            } catch (error) {\n                console.error('Error parsing WebSocket message:', error);\n            }\n        };\n        \n        socket.onerror = (error) => {\n            console.error('WebSocket error:', error);\n        };\n        \n        socket.onclose = () => {\n            console.log('WebSocket disconnected');\n            updateConnectionStatus(false);\n            setTimeout(connectWebSocket, 5000);\n        };\n    } catch (error) {\n        console.error('Error connecting WebSocket:', error);\n        setTimeout(connectWebSocket, 5000);\n    }\n}\n\nfunction updateOrAddOrder(order) {\n    const index = orders.findIndex(o => o.id === order.id);\n    if (index >= 0) {\n        orders[index] = order;\n    } else {\n        orders.unshift(order);\n    }\n}\n\nfunction updateDashboard() {\n    document.getElementById('employeeName').textContent = currentEmployee;\n    \n    const employeeOrders = orders.filter(o => o.assigned_person === currentEmployee);\n    \n    const pendingOrders = employeeOrders.filter(o => \n        o.status === 'PENDING' || o.status === 'CANCEL'\n    );\n    \n    const processedOrders = employeeOrders.filter(o => \n        o.status === 'DELIVERED' || o.status === 'RETURNED' || o.status === 'ON_THE_WAY'\n    );\n    \n    const returnedOrders = employeeOrders.filter(o => o.status === 'RETURNED');\n    \n    let totalRevenue = 0;\n    employeeOrders.forEach(order => {\n        if (order.status === 'DELIVERED' || order.status === 'COMPLETED') {\n            totalRevenue += order.total_amount;\n        } else if (order.status === 'RETURNED') {\n            totalRevenue -= order.total_amount;\n        }\n    });\n    \n    document.getElementById('totalRevenue').textContent = `â‚±${totalRevenue.toFixed(2)}`;\n    document.getElementById('pendingCount').textContent = pendingOrders.length;\n    document.getElementById('processedCount').textContent = processedOrders.length;\n    document.getElementById('returnedCount').textContent = returnedOrders.length;\n    \n    renderPendingOrders(pendingOrders);\n    renderProcessedOrders(processedOrders);\n}\n\nfunction renderPendingOrders(pendingOrders) {\n    const tbody = document.getElementById('pendingOrdersBody');\n    \n    if (pendingOrders.length === 0) {\n        tbody.innerHTML = `\n            <tr>\n                <td colspan=\"3\" class=\"empty-state\">\n                    <p>No pending orders</p>\n                </td>\n            </tr>\n        `;\n        return;\n    }\n    \n    tbody.innerHTML = pendingOrders.map(order => `\n        <tr>\n            <td>${order.toy_name}</td>\n            <td>\n                <span class=\"status-badge status-${order.status.toLowerCase()}\">\n                    ${order.status}\n                </span>\n            </td>\n            <td>â‚±${order.total_amount.toFixed(2)}</td>\n        </tr>\n    `).join('');\n}\n\nfunction renderProcessedOrders(processedOrders) {\n    const tbody = document.getElementById('processedOrdersBody');\n    \n    if (processedOrders.length === 0) {\n        tbody.innerHTML = `\n            <tr>\n                <td colspan=\"3\" class=\"empty-state\">\n                    <p>No processed orders</p>\n                </td>\n            </tr>\n        `;\n        return;\n    }\n    \n    tbody.innerHTML = processedOrders.map(order => `\n        <tr>\n            <td>${order.toy_name}</td>\n            <td>\n                <span class=\"status-badge status-${order.status.toLowerCase().replace(/_/g, '-')}\">\n                    ${order.status}\n                </span>\n            </td>\n            <td>â‚±${order.total_amount.toFixed(2)}</td>\n        </tr>\n    `).join('');\n}\n\nfunction updateConnectionStatus(connected) {\n    const statusEl = document.getElementById('connectionStatus');\n    statusEl.className = `connection-status ${connected ? 'connected' : 'disconnected'}`;\n    statusEl.innerHTML = `\n        <div class=\"status-indicator\"></div>\n        <span>${connected ? 'Connected' : 'Disconnected'}</span>\n    `;\n}\n","size_bytes":5864}},"version":2}